{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="container product-detail">
    <div class="row" style="justify-content: center;">
        <!-- Phần 1: Ảnh sản phẩm -->
        <div class="col-lg-2 col-12 product-info-container-img">
            <div class="product-info-scroll">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
                 <img class="mb-2" height="auto" width="100%" src="{% static 'images/img-shoes/shoes0.png' %}">
            </div>
        </div>
        <div class="col-lg-5 col-12 product-images">
            <img src="{{ single_product.product_images.url }}" alt="" class="img-fluid main-image">
        </div>

        <!-- Phần 2: Thông tin sản phẩm -->
        <div class="col-lg-5 col-12 product-info-container">
                <form action="{% url 'add_cart' single_product.id %}" method="POST">
                    {% csrf_token %}
                        <h2 class="product-name">{{ single_product.product_name }}</h2>
                        <p><strong>Price:</strong> ${{ single_product.product_price }}</p>
                        <div class="item-color-select mb-4">
                            <select name="color" class="form-select" required>
                                <option value="" disabled selected>Chosse Color</option>
                                {% for i in single_product.variation_set.colors %}
                                <option value="{{ i.variation_value | lower }}">{{ i.variation_value | capfirst }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="item-color-select mb-4" >
                            <select name="size" class="form-select">
                                <option value="" disabled selected>Chosse Size</option>
                                {% for i in single_product.variation_set.sizes %}
                                <option value="{{ i.variation_value | lower }}">{{ i.variation_value | capfirst }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <p><strong>Description:</strong> {{ single_product.product_description }}</p>
                        <p><strong>Made In:</strong> {{ single_product.product_made_in }}</p>
                        <!-- Nút Add to Bag và Favourite -->
                    <div class="product-actions mb-4">
                        {% if single_product.product_stock <= 0 %}
                        <h5 class="btn btn-danger">Out of stock</h5>
                        {% else %}
                        <button type="submit" class="btn btn-dark btn-add-to-bag">Add to Bag</button>
                        <button class="btn btn-outline-secondary btn-favourite">Favourite</button>
                        {% endif %}
                    </div>
                </form>
                <div class="box-review-rating">
                    <form action="{% url 'submit_review' single_product.id %}" method="POST">
                        {% csrf_token %}
                        <h5>Write Your Review</h5>
                        <div>
                            <label>How do you rate this products?</label>
                            <br>
                            <div class="rate">
                                <input type="radio" name="review_rating" id="rating10" value="5" required><label for="rating10" title="5"></label>
                                <input type="radio" name="review_rating" id="rating9" value="4.5" required><label for="rating9" title="4.5" class="half"></label>
                                <input type="radio" name="review_rating" id="rating8" value="4" required><label for="rating8" title="4"></label>
                                <input type="radio" name="review_rating" id="rating7" value="3.5" required><label for="rating7" title="3.5" class="half"></label>
                                <input type="radio" name="review_rating" id="rating6" value="3" required><label for="rating6" title="3"></label>
                                <input type="radio" name="review_rating" id="rating5" value="2.5" required><label for="rating5" title="2.5" class="half"></label>
                                <input type="radio" name="review_rating" id="rating4" value="2" required><label for="rating4" title="2"></label>
                                <input type="radio" name="review_rating" id="rating3" value="1.5" required><label for="rating3" title="1.5" class="half"></label>
                                <input type="radio" name="review_rating" id="rating2" value="1" required><label for="rating2" title="1"></label>
                                <input type="radio" name="review_rating" id="rating1" value="0.5" required><label for="rating1" title="0.5" class="half"></label>
                            </div>
                        </div>
                        <div>
                            Review Title:
                            <input class="form-control-review" type="text" name="review_subject">
                            <br>
                            Review:
                            <textarea class="form-control" name="review" rows="4"></textarea>
                            <br>
                            {% if user.is_authenticated %}
                            <input type="submit" class="btn btn-dark" value="Submit Review">
                            {% else %}
                            <p>You must be logged in to post a review. </p><span><a href="{% url 'login' %}">Login now</a></span>
                            {% endif %}
                        </div>
                    </form>
                    <br>
                    {% include "includes/alerts.html" %}
                    <br>
                    <article class="box mb-3">
                        <div class="icontext w-100">
                            <img src="./images/avatars/avatar1.jpg" class="img-xs icon rounded-circle">
                            <div class="text">
                                <span class="date text-muted float-md-right">24.04.2020 </span>  
                                <h6 class="mb-1">Mike John </h6>
                                
                            </div>
                        </div> <!-- icontext.// -->
                        <div class="mt-3">
                            <p>
                                Dummy comment Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                                tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                                quis nostrud exercitation ullamco laboris nisi ut aliquip
                            </p>	
                        </div>
                    </article>
                </div>
            </div>
    </div>
</div>


{% endblock content %}

